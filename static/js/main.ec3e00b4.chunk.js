(this["webpackJsonpreact-properties"]=this["webpackJsonpreact-properties"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),c=a.n(o),s=(a(64),a(65),a(23)),l=a(57),i=a(12),p=a(11),u=a(48),m=a(49),d=a(50),h=a(29),f=a.n(h),E=a(51),g=a(52),b=a.n(g),y="FETCH_PROPERTIES_BEGIN",O="FETCH_PROPERTIES_SUCCESS",v="FETCH_PROPERTIES_FAILURE";function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={fetchedProperties:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return _({},e);case O:return _({},e,{fetchedProperties:t.payload});case v:return _({},e);default:return e}},N=Object(p.c)({propertyListReducer:P}),k=a(53),S=a.n(k),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p.e)(N,e,Object(p.d)(Object(p.a)(m.a,S.a),Object(u.cacheEnhancer)({log:!0}),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))},x=a(19),M=a(20),R=a(24),C=a(22),D=a(25),L=a(101),I=a(102),B=a(103),X=a(104),F=a(105),H=a(106),U=a(54),A=function(e){return n.a.createElement("div",null,n.a.createElement(L.a,{className:"shadow"},n.a.createElement("a",{href:"https://emeraldstay.com/property/".concat(e.property.slug),target:"_blank",rel:"noopener noreferrer"},e.property.open_graph_image_cache?n.a.createElement(I.a,{top:!0,width:"100%",src:e.property.open_graph_image_cache,alt:"Card image cap"}):n.a.createElement(I.a,{top:!0,width:"100%",src:"https://reactstrap.github.io/assets/318x180.svg",alt:"Card image cap"}),n.a.createElement(B.a,null,n.a.createElement("strong",null,n.a.createElement(X.a,null,n.a.createElement(U.a,{lines:1,ellipsis:n.a.createElement("span",null,"...")},e.property.title))),n.a.createElement(F.a,{className:"my-1"},n.a.createElement("i",{className:"fas fa-map-pin"}),n.a.createElement("span",{className:"pl-3"}," ",e.property.city)),n.a.createElement(F.a,{className:"my-1"},n.a.createElement("i",{className:"fas fa-bed pr-2"}),n.a.createElement("span",null,e.property.number_of_bedrooms," Bedrooms, "),e.property.beds_adults?n.a.createElement("span",null," ",e.property.beds_adults," Adults beds "):null),n.a.createElement(F.a,{className:"my-1"},n.a.createElement("i",{className:"fas fa-euro-sign"}),"from ",n.a.createElement("strong",null,"\u20ac",e.property.property_price)," / night"),n.a.createElement(F.a,{className:"d-flex flex-row-reverse"},n.a.createElement(H.a,{color:"warning",className:"mt-3"},n.a.createElement("strong",null,"BOOK")))))))},W=a(107),G=a(56),J=a.n(G),V=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(R.a)(this,Object(C.a)(t).call(this,e))).state={loadMore:!0,propertiesToLoad:[],page:1},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMoreProperties(1)}},{key:"loadMoreProperties",value:function(){var e=this;this.setState({loadMore:!1}),this.props.fetchMoreProperties(this.state.page).then((function(){e.setState({propertiesToLoad:e.state.propertiesToLoad.concat(e.props.fetchedProperties),loadMore:!0,page:e.state.page+1})}))}},{key:"render",value:function(){return this.props.fetchedProperties.length>0?n.a.createElement(J.a,{className:"row",pageStart:0,loadMore:this.loadMoreProperties.bind(this),hasMore:this.state.loadMore,useWindow:!0,threshold:800,loader:n.a.createElement("div",{className:"loader",key:0},n.a.createElement(W.a,{color:"warning",key:"0",className:"spinner"}))},this.state.propertiesToLoad.map((function(e,t){return n.a.createElement("div",{className:"col-12 col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xxl-3 mt-4",key:t},n.a.createElement(A,{property:e,key:t}))}))):n.a.createElement(W.a,{color:"warning",type:"grow",style:{position:"fixed",width:"4rem",height:"4rem",transform:"translateX(-50%,-50%)",top:"50%",left:"50%"}})}}]),t}(n.a.Component),K=Object(s.b)((function(e){return{fetchedProperties:e.propertyListReducer.fetchedProperties}}),(function(e){return{fetchMoreProperties:function(t){return e(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:y}),t.next=4,b.a.get("https://api.emerald-stay.fr/api/properties",{params:{country:1,adults:1,children:0,page:e}});case 4:r=t.sent.data.data.properties,a({type:O,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a((n=t.t0,{type:v,error:n}));case 11:case"end":return t.stop()}var n}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(V),$=a(21),q=a(108),z=a(109),Q=a(110),Y=a(114),Z=a(111),ee=a(112),te=a(113),ae=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(R.a)(this,Object(C.a)(t).call(this,e))).toggle=a.toggle.bind(Object($.a)(a)),a.state={isOpen:!1},a}return Object(D.a)(t,e),Object(M.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(q.a,{light:!0,expand:"md",style:{background:"#ffc108"}},n.a.createElement("div",{className:"container"},n.a.createElement(z.a,null,n.a.createElement("i",{className:"far fa-building"}),n.a.createElement("span",null," properties")),n.a.createElement(Q.a,{onClick:this.toggle}),n.a.createElement(Y.a,{isOpen:this.state.isOpen,navbar:!0},n.a.createElement(Z.a,{className:"ml-auto",navbar:!0},n.a.createElement(ee.a,null,n.a.createElement(te.a,{href:"https://github.com/surfer19/react-properties",target:"_blank"},n.a.createElement("strong",null,"GitHub"))))))))}}]),t}(n.a.Component),re=T();var ne=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(ae,null),n.a.createElement("div",{className:"container-fluid"},n.a.createElement(s.a,{store:re},n.a.createElement(l.a,{basename:"/"},n.a.createElement(i.a,{exact:!0,path:"/",component:K})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,a){e.exports=a(100)},65:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.ec3e00b4.chunk.js.map